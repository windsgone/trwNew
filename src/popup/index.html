<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title data-i18n="appName">Tab Rename Wiz</title>
  <link rel="stylesheet" href="./style.css">
  <link rel="stylesheet" href="./emoji-picker.css">
</head>
<body>
  <div class="container">
    <header class="header">
      <h1 data-i18n="popupTitle">Tab Rename Wiz</h1>
      <div class="settings-icon" id="options-btn">
        <svg width="20" height="20" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M34.0003 41L44 24L34.0003 7H14.0002L4 24L14.0002 41H34.0003Z" fill="none" stroke="#3498DB" stroke-width="3" stroke-linejoin="round"></path>
          <path d="M24 29C26.7614 29 29 26.7614 29 24C29 21.2386 26.7614 19 24 19C21.2386 19 19 21.2386 19 24C19 26.7614 21.2386 29 24 29Z" fill="none" stroke="#3498DB" stroke-width="3" stroke-linejoin="round"></path>
      </svg>
      </div>
    </header>
    
    <div id="unsupported-page-notice" class="unsupported-page-notice" style="display: none;">
      <div class="notice-text" data-i18n="errorUnsupportedPage">This page cannot be modified.</div>
    </div>
    
    <form id="rule-form" novalidate>
      <div class="url-input-group" id="url-input-group">
        <div class="url-label">URL</div>
        <div class="match-mode-display" id="match-mode-display">is</div>
        <div class="url-display" id="url-display"><span></span></div>
        <div class="toggle-btn" id="toggle-url-btn">
          <svg t="1745900337784" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1454" width="200" height="200"><path d="M512 611.872L226.752 318.592A48.48 48.48 0 0 0 192 304c-26.496 0-48 21.056-48 47.008 0 12.064 4.736 23.68 13.248 32.416l308.416 317.12q18.88 19.456 46.336 19.456 27.424 0 46.336-19.456l308.384-317.12c8.544-8.736 13.28-20.352 13.28-32.416 0-25.952-21.504-47.008-48-47.008-13.12 0-25.696 5.28-34.752 14.592L512 611.84z" fill="#999999" p-id="1455"></path></svg>
        </div>
        <div class="match-mode-buttons" id="match-mode-buttons">
          <label class="match-mode-btn">
            <input type="radio" name="matchMode" value="exact" id="mode-exact" checked>
            <span data-i18n="exactMatch">Exact Match</span>
          </label>
          <label class="match-mode-btn">
            <input type="radio" name="matchMode" value="startsWith" id="mode-startsWith">
            <span data-i18n="startsWithMatch">Starts With</span>
          </label>
          <label class="match-mode-btn">
            <input type="radio" name="matchMode" value="endsWith" id="mode-endsWith">
            <span data-i18n="endsWithMatch">Ends With</span>
          </label>
          <label class="match-mode-btn">
            <input type="radio" name="matchMode" value="contains" id="mode-contains">
            <span data-i18n="containsMatch">Contains</span>
          </label>
        </div>
        <div class="url-input">
          <input type="text" id="urlPattern" name="urlPattern"  required>
        </div>
      </div>
      
      <div class="title-input-group">
        <div class="favicon-preview" id="favicon-preview">
          <img src="https://www.google.com/favicon.ico" alt="Favicon" id="favicon-img">
        </div>
        <div class="title-input">
          <input type="text" id="title" name="title" required>
          <button type="button" class="clear-btn" id="clear-title">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
                <path d="M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z"/>
            </svg>
          </button>
        </div>
      </div>
      
      <div class="form-group text-center">
        <div class="button-group">
          <button type="submit" id="save-btn" data-i18n="saveRule">Save Rule</button>
          <button type="button" id="ai-generate-btn" title="AI生成标题" aria-label="AI生成标题">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
              <path d="M13.5,1C11.57,1,10,2.57,10,4.5V9H4.5C2.57,9,1,10.57,1,12.5S2.57,16,4.5,16H10v4.5c0,1.93,1.57,3.5,3.5,3.5s3.5-1.57,3.5-3.5V16h5.5c1.93,0,3.5-1.57,3.5-3.5S24.43,9,22.5,9H17V4.5C17,2.57,15.43,1,13.5,1z"/>
            </svg>
          </button>
        </div>
        <div id="status-message"></div>
      </div>
    </form>
  </div>
  <script type="module" src="./index.ts"></script>
</body>
</html>
